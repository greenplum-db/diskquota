--start_ignore
CREATE DATABASE diskquota;
ERROR:  database "diskquota" already exists
\! gpconfig -c shared_preload_libraries -v $(./data/current_binary_name);
20230117:12:40:53:1895897 gpconfig:zhrt:zhrt-[INFO]:-completed successfully with parameters '-c shared_preload_libraries -v diskquota-2.2.so'
\! gpconfig -c diskquota.naptime -v 0 --skipvalidation
20230117:12:40:53:1896062 gpconfig:zhrt:zhrt-[INFO]:-completed successfully with parameters '-c diskquota.naptime -v 0 --skipvalidation'
\! gpconfig -c max_worker_processes -v 20 --skipvalidation
20230117:12:40:54:1896331 gpconfig:zhrt:zhrt-[INFO]:-completed successfully with parameters '-c max_worker_processes -v 20 --skipvalidation'
\! gpconfig -c diskquota.hard_limit -v "off" --skipvalidation
20230117:12:40:55:1896588 gpconfig:zhrt:zhrt-[INFO]:-completed successfully with parameters '-c diskquota.hard_limit -v off --skipvalidation'
\! gpconfig -c diskquota.max_workers -v 1 --skipvalidation
20230117:12:40:55:1896848 gpconfig:zhrt:zhrt-[INFO]:-completed successfully with parameters '-c diskquota.max_workers -v 1 --skipvalidation'
\! gpconfig -c log_min_messages -v debug1
20230117:12:40:56:1897088 gpconfig:zhrt:zhrt-[INFO]:-completed successfully with parameters '-c log_min_messages -v debug1'
\! gpstop -raf
20230117:12:40:56:1897362 gpstop:zhrt:zhrt-[INFO]:-Starting gpstop with args: -raf
20230117:12:40:56:1897362 gpstop:zhrt:zhrt-[INFO]:-Gathering information and validating the environment...
20230117:12:40:56:1897362 gpstop:zhrt:zhrt-[INFO]:-Obtaining Greenplum Coordinator catalog information
20230117:12:40:56:1897362 gpstop:zhrt:zhrt-[INFO]:-Obtaining Segment details from coordinator...
20230117:12:40:56:1897362 gpstop:zhrt:zhrt-[INFO]:-Greenplum Version: 'postgres (Greenplum Database) 7.0.0-alpha.0+dev.16171.g005ee83c46 build dev'
20230117:12:40:56:1897362 gpstop:zhrt:zhrt-[INFO]:-Commencing Coordinator instance shutdown with mode='fast'
20230117:12:40:56:1897362 gpstop:zhrt:zhrt-[INFO]:-Coordinator segment instance directory=/home/zhrt/workspace/gpdb/gpAux/gpdemo/datadirs/qddir/demoDataDir-1
20230117:12:40:56:1897362 gpstop:zhrt:zhrt-[INFO]:-Attempting forceful termination of any leftover coordinator process
20230117:12:40:56:1897362 gpstop:zhrt:zhrt-[INFO]:-Terminating processes for segment /home/zhrt/workspace/gpdb/gpAux/gpdemo/datadirs/qddir/demoDataDir-1
20230117:12:40:56:1897362 gpstop:zhrt:zhrt-[INFO]:-Stopping coordinator standby host zhrt mode=fast
20230117:12:40:57:1897362 gpstop:zhrt:zhrt-[INFO]:-Successfully shutdown standby process on zhrt
20230117:12:40:57:1897362 gpstop:zhrt:zhrt-[INFO]:-Targeting dbid [2, 5, 3, 6, 4, 7] for shutdown
20230117:12:40:57:1897362 gpstop:zhrt:zhrt-[INFO]:-Commencing parallel primary segment instance shutdown, please wait...
20230117:12:40:57:1897362 gpstop:zhrt:zhrt-[INFO]:-0.00% of jobs completed
20230117:12:40:57:1897362 gpstop:zhrt:zhrt-[INFO]:-100.00% of jobs completed
20230117:12:40:57:1897362 gpstop:zhrt:zhrt-[INFO]:-Commencing parallel mirror segment instance shutdown, please wait...
20230117:12:40:57:1897362 gpstop:zhrt:zhrt-[INFO]:-0.00% of jobs completed
20230117:12:40:58:1897362 gpstop:zhrt:zhrt-[INFO]:-100.00% of jobs completed
20230117:12:40:58:1897362 gpstop:zhrt:zhrt-[INFO]:-----------------------------------------------------
20230117:12:40:58:1897362 gpstop:zhrt:zhrt-[INFO]:-   Segments stopped successfully      = 6
20230117:12:40:58:1897362 gpstop:zhrt:zhrt-[INFO]:-   Segments with errors during stop   = 0
20230117:12:40:58:1897362 gpstop:zhrt:zhrt-[INFO]:-----------------------------------------------------
20230117:12:40:58:1897362 gpstop:zhrt:zhrt-[INFO]:-Successfully shutdown 6 of 6 segment instances 
20230117:12:40:58:1897362 gpstop:zhrt:zhrt-[INFO]:-Database successfully shutdown with no errors reported
20230117:12:40:58:1897362 gpstop:zhrt:zhrt-[INFO]:-Restarting System...
--end_ignore
\c
-- Show the values of all GUC variables
-- start_ignore
SHOW diskquota.naptime;
 diskquota.naptime 
-------------------
 0
(1 row)

-- end_ignore
SHOW diskquota.max_active_tables;
 diskquota.max_active_tables 
-----------------------------
 307200
(1 row)

SHOW diskquota.worker_timeout;
 diskquota.worker_timeout 
--------------------------
 60
(1 row)

SHOW diskquota.hard_limit;
 diskquota.hard_limit 
----------------------
 off
(1 row)

